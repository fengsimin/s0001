<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto V26VG; KKFDA: $this->order[] = "\x63\164\x69\x6d\x65\x20\x44\x45\123\x43"; goto slWFy; uPekS: if (!in_array("\x73\157\x72\164\x62\x79", $this->fields)) { goto AzaWl; } goto Qzcqf; awxtm: AzaWl: goto rIjaB; V26VG: $this->admin = $_GET["\x61\x64\155\151\156"]; goto W998o; h7X0O: $this->db = ifeiwu\Db::getInstance(); goto FfZoc; SD0Qv: zphwN: goto N11W_; Qzcqf: $this->order[] = "\163\x6f\162\x74\142\171\40\x44\x45\123\103"; goto awxtm; slWFy: s06U7: goto SD0Qv; FfZoc: $this->prefix = $this->db->getPrefix(); goto iXeex; W998o: if (!$this->table) { goto zphwN; } goto h7X0O; rIjaB: if (!in_array("\143\x74\x69\x6d\145", $this->fields)) { goto s06U7; } goto KKFDA; r4SML: $this->order = array(); goto uPekS; iXeex: $this->fields = $this->_getTableFields($this->table); goto r4SML; N11W_: } public function __destruct() { goto Xa2Z5; RLsWl: $this->_debug($this->db->log()); goto pqybH; Xa2Z5: if (!APP_DEBUG) { goto HzYyP; } goto RLsWl; pqybH: HzYyP: goto Bja5D; Bja5D: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto n1WPx; dY148: $res["\144\x61\x74\141"] = $data; goto GX21e; bWG0n: return $res; goto vLUzo; rwXfY: $res["\144\x61\x74\x61"] = $message; goto QQhPe; QQhPe: MiLKA: goto vfbyD; T1Me9: gyZbf: goto rwXfY; vfbyD: if (!$data) { goto hCoqI; } goto dY148; VaEvV: $res["\155\145\163\163\x61\147\145"] = $message; goto U_Veo; U_Veo: goto MiLKA; goto T1Me9; bgWV0: if (is_array($message)) { goto gyZbf; } goto VaEvV; n1WPx: $res = array(); goto ZMGNo; GX21e: hCoqI: goto bWG0n; ZMGNo: $res["\143\x6f\x64\145"] = $code; goto bgWV0; vLUzo: } protected function _bulidData($request_data) { goto zJINv; ttY0i: $data["\143\x74\151\155\145"] = strtotime($request_data["\x63\x74\151\155\x65"]); goto bKPDD; IKsqP: $pid = $data["\160\x69\144"]; goto j37V3; t3yQh: return $data; goto WRZ3Z; hLrvU: $data["\152\163\x6f\x6e"] = $category ? json_encode(array("\143" => $category)) : ''; goto eCGHP; gQ2R2: omH4r: goto ykkfL; rxH8S: if (!isset($request_data["\x63\x74\x69\155\145"])) { goto gK0up; } goto ttY0i; B658D: if (!in_array("\x74\151\x74\x6c\145", $this->fields)) { goto NTNVV; } goto sKrCN; sKrCN: $column[] = "\164\x69\x74\154\x65"; goto UKIH2; UKIH2: NTNVV: goto S0W4v; eCGHP: zYNXa: goto t3yQh; S0W4v: if (!in_array("\x61\x6c\x69\141\163", $this->fields)) { goto omH4r; } goto V1ibE; zJINv: $data = array(); goto gJyo1; V1ibE: $column[] = "\x61\154\x69\x61\163"; goto gQ2R2; ykkfL: $category = $this->db->select($this->table, $column)->where("\x69\144\x20\x3d\40{$pid}")->get(); goto hLrvU; cD80a: P9zxA: goto J0CRS; J0CRS: $data["\x73\164\x61\x74\145"] = isset($data["\163\164\141\164\x65"]) ? $data["\x73\164\x61\x74\145"] : 0; goto rxH8S; gJyo1: foreach ($this->fields as $field) { goto MHGUq; YMkgt: if (!($value !== null)) { goto tpI2Y; } goto KbqDg; am_po: tpI2Y: goto UkjNv; MHGUq: $value = $request_data[$field]; goto YMkgt; UkjNv: T1vuR: goto fY67A; KbqDg: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto am_po; fY67A: } goto cD80a; GkW4b: $column = array("\151\144"); goto B658D; bKPDD: gK0up: goto IKsqP; j37V3: if (!($pid > 0 && in_array("\152\x73\x6f\x6e", $this->fields))) { goto zYNXa; } goto GkW4b; WRZ3Z: } protected function _encode($data) { goto vsm4f; qmPZ6: vs319: goto LUHtl; f_EYl: XVSP1: goto AOgEO; LUHtl: return htmlspecialchars($data, ENT_QUOTES); goto dUpRs; XZTwT: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); A_Dbf: } goto waCcE; bcllB: return array_map(array($this, "\137\145\156\143\x6f\x64\x65"), $data); goto f_EYl; vsm4f: if (!is_array($data)) { goto XVSP1; } goto bcllB; qWfYU: $tmp = clone $data; goto XZTwT; waCcE: uGUZs: goto RnuDm; RnuDm: return $tmp; goto qmPZ6; AOgEO: if (!is_object($data)) { goto vs319; } goto qWfYU; dUpRs: } protected function _decode($data) { goto u1ITG; V2cEF: return htmlspecialchars_decode($data, ENT_QUOTES); goto ltkZj; y40FF: return array_map(array($this, "\137\x64\145\x63\x6f\x64\145"), $data); goto KjTCR; u1ITG: if (!is_array($data)) { goto mFVfa; } goto y40FF; g22qD: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); DTdLs: } goto KGrUq; KjTCR: mFVfa: goto K1rSU; KGrUq: Pl77T: goto mtLcW; K1rSU: if (!is_object($data)) { goto SUzv5; } goto oW3Ga; oW3Ga: $tmp = clone $data; goto g22qD; mtLcW: return $tmp; goto mrOAb; mrOAb: SUzv5: goto V2cEF; ltkZj: } protected function _getTableFields($table) { goto jUNS8; owNSk: $table = $this->prefix . $table; goto Dnhas; COUlr: HDbDe: goto DXojl; gheiq: if (!($i < $count)) { goto HDbDe; } goto lcGir; VJfgL: $i = 0; goto xAPi1; jQxL_: goto k9dm3; goto COUlr; gLrpE: $query = $this->db->query("\x53\x45\x4c\x45\103\x54\x20\52\x20\106\x52\x4f\115\40{$table}"); goto mWuQc; DXojl: return $fields; goto ruUm0; mgOnr: $table = $this->prefix . $this->table; goto GhGJq; L9X0t: $i++; goto jQxL_; xAPi1: k9dm3: goto gheiq; mWuQc: $count = $query->columnCount(); goto VJfgL; lcGir: $column = $query->getColumnMeta($i); goto mZKXy; E0zQ3: RbAn7: goto L9X0t; GhGJq: goto dmB9r; goto o1g7J; o1g7J: neb67: goto owNSk; Dnhas: dmB9r: goto gLrpE; mZKXy: $fields[] = $column["\156\141\x6d\145"]; goto E0zQ3; jUNS8: if ($table) { goto neb67; } goto mgOnr; ruUm0: } protected function _callback($method, $params) { goto gF5mv; gF5mv: if (!(is_callable(array($this, $method)) !== false)) { goto jz0sd; } goto ohqCn; ohqCn: call_user_func_array(array($this, $method), $params); goto QXt_U; QXt_U: jz0sd: goto EnM_g; EnM_g: } protected function _getLevel($pid, $id) { goto tWBTJ; W36Ex: EyzsF: goto jcagw; jcagw: return "\54" . implode("\x2c", array_reverse($list)) . "\54" . $id . "\x2c"; goto nZjyB; kXLib: goto r9dDe; goto W36Ex; G89b0: if ($id) { goto EyzsF; } goto tE0Qd; jOOoR: if (!($pid != 0)) { goto z24Rf; } goto AOjWR; tE0Qd: return "\x2c" . implode("\x2c", array_reverse($list)) . "\54"; goto kXLib; AOjWR: $list[] = $pid; goto U2eA4; Lpheb: $pid = $this->db->select($this->table, "\x70\x69\144")->where(array("\151\x64", "\x3d", $id))->get(0); goto fricL; U2eA4: $this->_getLevel('', $pid); goto eooDt; USsxg: return "\54" . $id . "\x2c"; goto lk1FH; eooDt: z24Rf: goto YKH6k; Ajfd9: goto u02Sq; goto hekZu; tWBTJ: static $list = array(); goto bRXfs; YKH6k: if (count($list) == 0) { goto QDx8b; } goto G89b0; fricL: lEmUV: goto jOOoR; hekZu: QDx8b: goto USsxg; bRXfs: if (!($pid === '')) { goto lEmUV; } goto Lpheb; lk1FH: u02Sq: goto UN4qH; nZjyB: r9dDe: goto Ajfd9; UN4qH: } protected function _saveData($table, $data, $where) { goto NsBrG; umaeL: BZzhB: goto X7Z0x; A6asC: return $this->db->insert($table, $data)->is(); goto C6e1l; vp51m: return $this->db->update($table, $data, $where)->is(); goto umaeL; C6e1l: goto BZzhB; goto tw6z4; tw6z4: rxI8z: goto vp51m; NsBrG: if ($this->db->select($table)->where($where)->has()) { goto rxI8z; } goto A6asC; X7Z0x: } protected function _saveImages($pid, $request_data) { goto mSN6M; p_4TH: $data["\143\164\151\x6d\145"] = time(); goto RH4TS; UPJ6v: D3wPu: goto OsDth; jidEV: $images_path = $request_data["\151\155\141\x67\x65\163\137\160\141\x74\x68"]; goto H8EJj; yWLBP: $data["\x74\x79\x70\x65"] = "\x69\155\141\147\x65"; goto CwFBw; H8EJj: $images_state = $request_data["\x69\155\141\x67\145\163\x5f\x73\x74\x61\164\x65"]; goto yWLBP; vCl96: $images_order = $request_data["\x69\x6d\141\147\x65\x73\x5f\157\162\144\x65\162"]; goto VshYx; VshYx: $images_title = $request_data["\x69\155\x61\147\145\163\x5f\164\151\x74\x6c\145"]; goto vV71g; mSN6M: $images_id = $request_data["\x69\x6d\x61\147\145\x73\x5f\x69\144"]; goto vCl96; CwFBw: $data["\160\x69\144"] = $pid; goto p_4TH; vV71g: $images_name = $request_data["\x69\x6d\x61\147\x65\x73\137\156\141\155\145"]; goto jidEV; RH4TS: foreach ($images_id as $i => $id) { goto OKsHe; YmV24: $data["\x69\155\x61\147\x65"] = $images_name[$i]; goto ktgU4; iONDP: if (empty($id)) { goto BOxq2; } goto DVYvL; ktgU4: $data["\151\155\141\147\x65\x5f\x70\141\164\x68"] = $images_path[$i]; goto Aq9sZ; DVYvL: $this->db->update($this->table, $data, array("\x69\144", "\75", $id)); goto X99Hk; n9oE1: $data["\x73\164\x61\x74\x65"] = $images_state[$i]; goto iONDP; hpceT: BOxq2: goto YmV24; Aq9sZ: $this->db->insert($this->table, $data); goto ZQa1x; ZQa1x: unset($data["\x69\x6d\141\147\145"], $data["\x69\155\141\147\x65\x5f\x70\141\x74\150"]); goto JExQW; ikUIF: EwppC: goto mOYtR; OKsHe: $data["\x74\x69\x74\154\145"] = $images_title[$i]; goto N5ksH; N5ksH: $data["\157\x72\144\x65\x72\142\171"] = $images_order[$i]; goto n9oE1; JExQW: UrThk: goto ikUIF; X99Hk: goto UrThk; goto hpceT; mOYtR: } goto UPJ6v; OsDth: } protected function _removeFiles2($files) { goto PYhIT; DSoul: foreach ($files as $key => $value) { goto BXI1g; CHMEI: $path = "\56\56\x2f" . $value["\x70\x61\x74\150"]; goto PRdUB; h3J0L: foreach ($prefixs as $prefix) { goto jDiOA; hvwDX: if (!file_exists($filename)) { goto ran3I; } goto i3fEr; i3fEr: unlink($filename); goto kAIPo; X_okZ: dlfd4: goto E589V; kAIPo: ran3I: goto X_okZ; jDiOA: $filename = "{$path}\57{$prefix}{$name}"; goto hvwDX; E589V: } goto lsJ3D; PQoWJ: unlink($filename); goto EXzNZ; yvl2b: nqv1T: goto CHMEI; ZmYMv: IV4Z5: goto ENokK; pl0hH: NZ7tt: goto ZmYMv; lsJ3D: lNrvY: goto pl0hH; bPNnb: goto IV4Z5; goto yvl2b; AeEDV: if (!file_exists($filename)) { goto Vltol; } goto PQoWJ; Hefdt: if ($name) { goto nqv1T; } goto bPNnb; PRdUB: $prefix = $value["\160\162\145\146\151\x78"]; goto iQgaV; d10AP: $prefixs = explode("\54", $prefix); goto h3J0L; Ewws1: $filename = $path . "\x2f" . $name; goto AeEDV; BXI1g: $name = $value["\156\x61\x6d\x65"]; goto Hefdt; EXzNZ: Vltol: goto whnZp; HtMkc: lLYWA: goto d10AP; iQgaV: if ($prefix) { goto lLYWA; } goto Ewws1; whnZp: goto NZ7tt; goto HtMkc; ENokK: } goto dwMmU; rD5wn: if (!$files) { goto m0AYm; } goto DSoul; Nq10U: $files = json_decode($files, true); goto U6T6_; dwMmU: d1wO7: goto iJRtn; iJRtn: m0AYm: goto LSjj6; PYhIT: if (!(!empty($files) && !is_array($files))) { goto co2rQ; } goto Nq10U; U6T6_: co2rQ: goto rD5wn; LSjj6: } protected function _mkdir($path, $mode = 493) { goto doksF; doksF: if (is_dir($path)) { goto jjHAL; } goto uBLlh; uBLlh: return mkdir($path, $mode, true); goto wueI0; wueI0: jjHAL: goto oYRlq; oYRlq: return false; goto qW0uw; qW0uw: } protected function _rmdir($path) { goto S5zMX; JyeYc: GLSVA: goto VJpEh; VIIkM: return true; goto Xyqoi; LVN03: if (!($handle = opendir($path))) { goto B38KT; } goto gx9fg; HwVWi: goto zuq4s; goto JXu8L; hVTlP: if (!(false !== ($item = readdir($handle)))) { goto zu5v5; } goto ZFMA6; J_P6D: if (is_dir("{$path}\57{$item}")) { goto GLSVA; } goto iCL_k; FQ75l: MDaB0: goto HwVWi; CpDYX: cZ0U6: goto VIIkM; ZFMA6: if (!($item != "\56" && $item != "\x2e\56")) { goto MDaB0; } goto J_P6D; VJpEh: $this->_rmdir("{$path}\x2f{$item}"); goto mxVRK; l0AFU: B38KT: goto Rkpas; ooOOk: goto AYg4h; goto CpDYX; h3Mzd: closedir($handle); goto h8w7L; h8w7L: if (rmdir($path)) { goto cZ0U6; } goto EFdVm; S5zMX: if (is_dir($path)) { goto JJ3fh; } goto bexpz; mxVRK: FGCOj: goto FQ75l; EFdVm: return false; goto ooOOk; gx9fg: zuq4s: goto hVTlP; JXu8L: zu5v5: goto h3Mzd; iCL_k: unlink("{$path}\x2f{$item}"); goto aLVVr; Xyqoi: AYg4h: goto l0AFU; bexpz: return false; goto ULq0p; aLVVr: goto FGCOj; goto JyeYc; ULq0p: JJ3fh: goto LVN03; Rkpas: } protected function _bulidUploadPath($temp_path, $data) { goto dk777; HwANw: $vardir = current(explode("\x21\75", $path_last)); goto Q4UKq; ubdtL: $true_path = $temp_path; goto mxxWL; dk777: $id = $data["\x69\x64"]; goto f_Op1; ChTn8: if (!is_dir("\56\56\x2f" . $temp_path)) { goto HYEAh; } goto wD9q2; rbesV: return $true_path; goto a1ghl; Q4UKq: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto nXkOk; V_etM: Q1Y21: goto e0v0Z; e0v0Z: if (!(strpos($path_last, "\41\75") !== false)) { goto MYRIe; } goto HwANw; f_Op1: $path_last = end(explode("\57", $temp_path)); goto e9_E2; scco8: HYEAh: goto rbesV; mxxWL: QqBwG: goto scco8; wD9q2: if (rename("\56\56\57" . $temp_path, "\56\56\x2f" . $true_path)) { goto QqBwG; } goto ubdtL; nXkOk: MYRIe: goto ChTn8; kFyug: return $temp_path; goto V_etM; e9_E2: if (!($path_last == $id)) { goto Q1Y21; } goto kFyug; a1ghl: } protected function _toTree($list, $pk = "\151\x64", $pid = "\x70\x69\x64", $child = "\137\143\150\151\x6c\144", $root = 0) { goto E12mX; wOS76: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; JEvp4: } goto OqJYW; E12mX: $tree = array(); goto RDaJb; KBSIs: foreach ($list as $key => $data) { goto QGGar; sFoRY: $parent[$child][] =& $list[$key]; goto LOFGP; BaQTq: MFy6B: goto rBUgN; QGGar: $parentId = $data[$pid]; goto XIED4; lPTuJ: goto HNDTI; goto BaQTq; XIED4: if ($root == $parentId) { goto MFy6B; } goto jKsiW; bFh6I: $parent =& $refer[$parentId]; goto sFoRY; rBUgN: $tree[] =& $list[$key]; goto dLQH_; dLQH_: HNDTI: goto bphKX; LOFGP: Tc_0x: goto lPTuJ; bphKX: d7KmA: goto xjpS2; jKsiW: if (!isset($refer[$parentId])) { goto Tc_0x; } goto bFh6I; xjpS2: } goto shZQX; tol30: GRZdw: goto yW896; yW896: return $tree; goto lldVW; RDaJb: if (!is_array($list)) { goto GRZdw; } goto Lq2Mi; OqJYW: H03wN: goto KBSIs; Lq2Mi: $refer = array(); goto wOS76; shZQX: grB9X: goto tol30; lldVW: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto k9hYH; uZNlY: G13wq: goto LmukG; w8ujj: if (!$isspecial) { goto zJC9V; } goto Udc4m; Ly5DI: $max = strlen($chars) - 1; goto nBuNw; AMjwB: $chars .= "\141\x62\143\x64\145\x66\147\150\151\x6a\x6b\154\x6d\156\157\x70\161\x72\163\164\x75\166\167\170\x79\172"; goto sbYhQ; nBuNw: $i = 0; goto uZNlY; k9hYH: if (!$islowercase) { goto yZic5; } goto AMjwB; Jqr_7: Plzdr: goto d1AoF; LmukG: if (!($i < $length)) { goto sf5cK; } goto egyhj; sbYhQ: yZic5: goto k_jYW; PLccs: zJC9V: goto qqbFq; Udc4m: $chars .= "\x21\100\43\44\x25\136\x26\52\50\x29"; goto PLccs; d1AoF: $i++; goto gvZDW; lGPAX: JCVWb: goto GEJ7a; gvZDW: goto G13wq; goto ap3RX; rH2Pt: $chars .= "\x41\102\103\104\x45\106\x47\110\x49\x4a\113\114\x4d\x4e\x4f\120\121\x52\x53\124\125\126\x57\x58\x59\132"; goto lGPAX; ap3RX: sf5cK: goto iYYl9; GEJ7a: if (!$isnumber) { goto LN9Gc; } goto EOch1; k_jYW: if (!$isuppercase) { goto JCVWb; } goto rH2Pt; piNNx: LN9Gc: goto w8ujj; egyhj: $result .= $chars[rand(0, $max)]; goto Jqr_7; iYYl9: return $result; goto uSlYY; EOch1: $chars .= "\60\x31\x32\x33\x34\65\66\x37\x38\71"; goto piNNx; qqbFq: $result = ''; goto Ly5DI; uSlYY: } protected function _UTF82GBK($str) { goto ZttFV; EEdRc: dYv2m: goto Kl4QD; GpR4B: goto dYv2m; goto AZrUH; q9z7M: return $str; goto GpR4B; TOkRj: return iconv("\x55\x54\x46\x2d\70", "\x47\102\x4b\x2f\57\x49\107\116\x4f\122\x45", $str); goto EEdRc; AZrUH: SJKRq: goto TOkRj; ZttFV: if (stripos(php_uname("\163"), "\127\151\x6e\144\x6f\167") !== false) { goto SJKRq; } goto q9z7M; Kl4QD: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto lSCWd; L7mvz: Jhoof: goto ixmoV; pCRI1: $realip = explode("\54", $realip); goto aA70j; u8KPp: goto MxMWu; goto TrGmn; x8R_b: if (getenv("\x48\124\124\120\x5f\103\x4c\x49\x45\x4e\124\x5f\x49\x50")) { goto x3ipn; } goto WaKVg; ogiYH: $realip = $_SERVER["\110\x54\124\x50\137\x43\114\x49\105\116\x54\x5f\x49\x50"]; goto LtgJU; L8NLj: MhtDq: goto ogiYH; nbZZz: $realip = $_SERVER["\x48\124\x54\x50\x5f\130\137\x46\x4f\x52\127\101\122\x44\105\104\x5f\x46\117\x52"]; goto rM2L2; TrGmn: xJnZN: goto V1pyd; yfnQ1: $realip = empty($realip) ? $_SERVER["\122\105\x4d\117\x54\x45\137\x41\x44\x44\122"] : $realip; goto bo8Xf; ZRDSN: VZWZL: goto olmLi; ixmoV: return $realip; goto lt2z4; o1A8U: x3ipn: goto ELhWz; ENH5o: goto PFXxY; goto MnzJI; rM2L2: $realip = explode("\54", $realip); goto cY8pB; MnzJI: u3xLh: goto nbZZz; i2EuM: goto PFXxY; goto L8NLj; olmLi: if (isset($_SERVER["\x48\x54\x54\x50\137\130\x5f\106\117\122\127\x41\x52\104\105\104\x5f\x46\x4f\x52"])) { goto u3xLh; } goto D52Zs; JaVGC: MxMWu: goto imLEO; OzOWy: $realip = $_SERVER["\122\105\115\117\x54\x45\137\x41\104\104\122"]; goto ENH5o; V1pyd: $realip = getenv("\110\x54\124\x50\x5f\x58\137\106\117\122\127\101\122\104\105\x44\x5f\106\x4f\x52"); goto pCRI1; aA70j: $realip = $realip[0]; goto yfnQ1; ELhWz: $realip = getenv("\x48\124\124\x50\x5f\103\114\111\x45\116\x54\137\111\120"); goto JaVGC; LtgJU: PFXxY: goto L7mvz; GciDf: $realip = empty($realip) ? $_SERVER["\x52\x45\115\117\124\x45\x5f\101\104\104\122"] : $realip; goto i2EuM; lSCWd: if (isset($_SERVER)) { goto VZWZL; } goto YtlxW; WaKVg: $realip = getenv("\122\105\115\x4f\124\x45\137\x41\x44\104\122"); goto u8KPp; D52Zs: if (isset($_SERVER["\x48\x54\124\120\x5f\103\x4c\111\105\116\124\137\111\120"])) { goto MhtDq; } goto OzOWy; YtlxW: if (getenv("\x48\x54\124\x50\x5f\130\137\106\x4f\x52\x57\x41\x52\x44\105\104\x5f\106\117\x52")) { goto xJnZN; } goto x8R_b; bo8Xf: goto MxMWu; goto o1A8U; imLEO: goto Jhoof; goto ZRDSN; cY8pB: $realip = $realip[0]; goto GciDf; lt2z4: } protected function _trash($item, $request_data) { goto pe1Op; iZuem: $path = $request_data["\x70\x61\164\x68"]; goto I0_4e; BQKcT: $data["\164\141\x62\154\145"] = $this->table; goto QzRxo; QzRxo: $data["\144\141\x74\141"] = json_encode($item); goto zAVF3; I0_4e: $data["\x70\141\164\150"] = $path ? $item[$path] : ''; goto BQKcT; eS5Vs: return $this->db->insert("\164\162\141\x73\150", $data)->is(); goto XTqyr; nWLal: $data["\x74\x69\164\x6c\145"] = $item["\164\x69\x74\154\145"]; goto iZuem; uqQ46: $data["\x6e\x6f\164\145"] = $request_data["\x6e\x6f\164\145"]; goto nWLal; oLHsD: $data["\x63\x74\151\155\145"] = time(); goto eS5Vs; ecYDW: $data["\x61\144\x6d\x69\x6e\137\x6e\x61\155\x65"] = $this->admin["\156\x61\x6d\145"]; goto uqQ46; NHDvO: $data["\141\144\x6d\x69\156\137\151\x64"] = $this->admin["\x69\144"]; goto ecYDW; pe1Op: $data = array(); goto NHDvO; zAVF3: $data["\x73\164\x61\x74\145"] = 0; goto oLHsD; XTqyr: } protected function _log($type, $data = array()) { goto kkzsN; JqafL: $data["\141\x64\x6d\151\156\137\x69\144"] = $this->admin["\151\144"]; goto JhKwj; JhKwj: $data["\141\144\x6d\151\156\137\x6e\141\x6d\x65"] = $this->admin["\156\141\155\x65"]; goto lMFyk; vrWcK: $data["\151\x70"] = $this->_getIP(); goto FFv9T; FFv9T: $data["\143\x74\x69\155\x65"] = time(); goto i5NjQ; K222H: uOaTX: goto hvmIZ; kkzsN: if (!($type != "\x6c\157\147\151\x6e")) { goto uOaTX; } goto JqafL; i5NjQ: return $this->db->insert("\154\x6f\x67", $data)->is(); goto WdjvI; d0nU3: $data["\164\171\x70\145"] = $type; goto vrWcK; lMFyk: $data["\165\162\x6c"] = $_SERVER["\110\x54\124\x50\137\122\105\106\105\x52\105\122"]; goto K222H; hvmIZ: $data["\x74\x61\142\x6c\145"] = $this->table; goto d0nU3; WdjvI: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
